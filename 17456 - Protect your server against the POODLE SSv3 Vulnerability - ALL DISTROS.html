<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:mso="urn:schemas-microsoft-com:office:office" xmlns:msdt="uuid:C2F41010-65B3-11d1-A29F-00AA00C14882">

<head>

<!--Article Number is 17456 -->



<title>Protect your server against the POODLE SSv3 vulnerability - ALL DISTROS</title>
<style>
div.hacker {
background-color:#666;
border:1px solid #ccc;
color:#fff;
font-family:"Lucida Console","Courier New",Courier,fixed;  font-size:95%;  line-height:160%;  margin-bottom:1.5em;  padding:10px; }

p.note {
 background-color:#ffffe6;
 border:1px solid #eee;
 color:#666;
 padding:.8em 1.6em;
 margin:15px 0;
}

.warning {
 border: 1px #d25100 solid;
 padding: .5em 1em .5em 4em;
 margin: 10px 20px 15px 20px;
 background-image: url('@{help-img-path}/img_warning.gif');
 background-repeat: no-repeat;
 background-position: left top;
 background-color: #ededed;-moz-border-radius:
0.8em;-webkit-border-radius: 0.8em;
 /* -moz-border-bottom-radius: 0;9 */
 -webkit-border-bottom-radius: 0;
 padding-top:14px;
 padding-bottom:15px;
}
</style>


<!--[if gte mso 9]><xml>
<mso:CustomDocumentProperties>
<mso:ArticleKeywords msdt:dt="string">Security, SSL</mso:ArticleKeywords>
<mso:Reference msdt:dt="string">https://www.digitalocean.com/community/tutorials/how-to-protect-your-server-against-the-poodle-sslv3-vulnerability, https://www.digitalocean.com/community/tutorials/how-to-protect-your-server-against-the-poodle-sslv3-vulnerability</mso:Reference>
<mso:LinuxDistributions msdt:dt="string">;#ALL DISTROS;#</mso:LinuxDistributions>
<mso:ArticlePriority msdt:dt="string">1</mso:ArticlePriority>
<mso:RequestNotes msdt:dt="string">Briefly explain that SSLv3 is enabled by default on most web services and needs to be disabled. Include sections for NGINX, Apache, HAProxy, Postfix, OpenVPN, Dovecot. If your research finds that this is not the case for at least nginx, apache,and postfix, then purge this topic</mso:RequestNotes>
<mso:Difficulty msdt:dt="string">1</mso:Difficulty>
<mso:ForkSplit msdt:dt="string"></mso:ForkSplit>
<mso:ArticleID msdt:dt="string">17456</mso:ArticleID>
<mso:UnsupportedFeatures msdt:dt="string"></mso:UnsupportedFeatures>
<mso:Collapsed msdt:dt="string"></mso:Collapsed>
<mso:Complexity msdt:dt="string">2 - A little complex</mso:Complexity>
<mso:Week msdt:dt="string">4.00000000000000</mso:Week>
<mso:ArticleStatus msdt:dt="string">Edited and ready to publish</mso:ArticleStatus>
<mso:AssignedTo1 msdt:dt="string">17</mso:AssignedTo1>
<mso:HoursDraftingEstimated msdt:dt="string">1.50000000000000</mso:HoursDraftingEstimated>
<mso:HoursEditingEstimated msdt:dt="string">0.100000000000000</mso:HoursEditingEstimated>
<mso:Sample msdt:dt="string">z</mso:Sample>
<mso:display_urn_x003a_schemas-microsoft-com_x003a_office_x003a_office_x0023_AssignedTo1 msdt:dt="string">Pooja Nadubettu</mso:display_urn_x003a_schemas-microsoft-com_x003a_office_x003a_office_x0023_AssignedTo1>
<mso:DeliveryTarget msdt:dt="string">Phase 1</mso:DeliveryTarget>
<mso:EditScore msdt:dt="string"></mso:EditScore>
<mso:ReviewComments msdt:dt="string">7/24 - CLS - Passed the XHTML Validation.</mso:ReviewComments>
<mso:Dependencies msdt:dt="string"></mso:Dependencies>
<mso:HoursDraftingActual msdt:dt="string">5.50000000000000</mso:HoursDraftingActual>
<mso:PercentResearch msdt:dt="string">0.400000000000000</mso:PercentResearch>
<mso:PercentWriting msdt:dt="string">0.600000000000000</mso:PercentWriting>
<mso:display_urn_x003a_schemas-microsoft-com_x003a_office_x003a_office_x0023_ReviewedBy msdt:dt="string">Crystal Smithwick</mso:display_urn_x003a_schemas-microsoft-com_x003a_office_x003a_office_x0023_ReviewedBy>
<mso:ReviewedBy msdt:dt="string">42</mso:ReviewedBy>
<mso:UpdateWeeklyHours msdt:dt="string">0</mso:UpdateWeeklyHours>
<mso:AssignmentAction msdt:dt="string"></mso:AssignmentAction>
<mso:Update_x0020_profile_x0020_hours msdt:dt="string">https://blueprintcs.sharepoint.com/sites/gdcmp/_layouts/15/wrkstat.aspx?List=0e1925e5-ea8a-4b57-a7a9-c7061c953f74&amp;WorkflowInstanceName=87d11fce-1dfa-4ec6-8fe9-2bab2047d861, Assign to a Content Creator</mso:Update_x0020_profile_x0020_hours>
<mso:PrereqOrdering msdt:dt="string">3</mso:PrereqOrdering>
<mso:HoursEditingActual msdt:dt="string">0.500000000000000</mso:HoursEditingActual>
</mso:CustomDocumentProperties>
</xml><![endif]-->
</head>

<body>
 <h1>Protect your server against the POODLE SSLv3 Vulnerability</h1>
 <p><strong>Difficulty</strong>: <em><u>1</u></em><br />
        <strong>Time</strong>: <em><u>10 minutes</u></em></p>
    <p>POODLE (Padding Oracle On Downgraded Legacy Encryption) is a vulnerability on servers or clients running the SSLv3 protocol. POODLE allows an attacker to use the man-in-the-middle attack to read any information that is encrypted using SSLv3 protocol. A man-in-the-middle attack is where an attacker intercepts the communication between two unsuspecting victims and may alter the communication between them.</p>

    <h2>Preventing attacks</h2>
    <p>The best method to mitigate this type of attack is to disable the SSLv3 on your servers and clients. You should also evaluate any servers that might be using any services that may be relying on the SSL protocol. This article describes the methods to disable SSL v3 on different web servers. </p>
    
    <h3>Disable SSLv3 on Apache</h3>
    <ol>
    <li>You need to edit the Apache configuration in order to disable the SSL v3 protocol. The location of the configuration file varies based on the distribution that your server is running. 
         <ul>
            <li>For Ubuntu or Debian, open the <code>/etc/apache2/mods-available/ssl.conf</code> file.</li>
            <li>For CentOS or Fedora, open the <code>/etc/httpd/conf.d/ssl.conf</code> file.</li> 
        </ul>
    </li>   
    <li>Open the appropriate file and add the following directive: 
        <div class="hacker"> SSLProtocol All -SSLv2 -SSLv3</div> 
        This directive allows all protocols except SSLv2 and SSLv3. 
     </li>
     <li>Save and exit the file.</li>
     <li>Restart the Apache server for the changes to take effect. 
         <ul>
           <li>Restart a server using Ubuntu or Debian.
           <div class="hacker">sudo service apache2 restart</div></li>
           <li>Restart a server using CentOS or Fedora.
               <div class="hacker">systemctl restart httpd</div></li>
         </ul>
      </li>

    </ol>
    <h3>Disable SSLv3 on Dovecot</h3>
    <ol>
        <li>
            If you are running Dovecot versions 2.1 and above, add the following directive in the <code>  /etc/dovecot/conf.d/10-ssl.conf</code> configuration file.
            <div class="hacker">ssl_protocols = !SSLv3 !SSLv2</div>
        </li>
        <li>
            If you are running versions of Dovecot earlier than 2.1, change the <code>ssl_cipher_list</code> to disable SSLv3.
            <div class="hacker">ssl_cipher_list = ALL:!LOW:!SSLv2:!EXP:!aNULL:!SSLv3</div>
        </li>
        <li>
            Restart the service for the changes to take effect.
            <div class="hacker">sudo service Dovecot restart</div>
        </li>

    </ol>

    <h3>Disable SSLv3 on HAProxy</h3>
    <ol>
        <li>If you are running HAProxy versions 1.5 +, you need to edit the <code> /etc/haproxy/haproxy.cfg</code> configuration file.</li>
        <li>
            Add or modify the following directive in the <code>frontend name</code> section:
            <div class="hacker">bind public_ip:443 ssl crt /path/to/certs no-sslv3</div>
            The bind class specifies the IP address and the port.
        </li>

        <li>
            Restart the service for the changes to take effect.
            <div class="hacker">sudo service haproxy restart</div>
        </li>
    </ol>
    <h3>Disable SSLv3 on Nginx</h3>
    <ol>
        <li>If you are running Nginx on your server, add a directive in the Nginx configuration <code>/etc/nginx/nginx.conf</code> file. 
        <div class="hacker">ssl_protocols TLSv1 TLSv1.1 TLSv1.2;</div>
        </li>
        <li>
            Restart the Nginx server for the changes to take effect.
            <div class="hacker">sudo service nginx restart</div>
        </li>       

    </ol>
    <h3>Disabling SSLv3 on OpenVPN</h3>
    <p>Because OpenVPN does not allow SSLv3, it is not vulnerable to the POODLE attack.</p>

    <h3>Disabling SSLv3 on Postfix</h3>
    <ol>
        <li>
            If you are running Postfix in mandatory SSL mode then, you need to modify the configuration. Open the <code>/etc/postfix/main.cf</code> to add the following directive under the <code># TLS parameters</code> section.
            <div class="hacker">smtpd_tls_mandatory_protocols=!SSLv2,!SSLv3</div>
        </li>
        <li>
        Restart the Postfix server for the changes to take effect.
        <div class="hacker">sudo service postfix restart</div>
        </li> 
    </ol>
    <div class="note">If you are running Postfix in the opportunistic SSL mode, you do not need to change anything as the encryption is not enforced in this mode.</div>


<h2>Conclusion</h2>
<p>POODLE not only affects server side applications, but also any system or services that is dependent on the SSLv3 protocol. Make sure that you protect yourself adequately when playing either a consumer role or a service provider role. </p>

</body>
</html>