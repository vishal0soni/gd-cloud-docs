<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:mso="urn:schemas-microsoft-com:office:office" xmlns:msdt="uuid:C2F41010-65B3-11d1-A29F-00AA00C14882">

<head>

<!--Article Number is 18228-->




<title>Build a LAMP stack for Python - Arch Linux</title>
<style type='text/css'>
div.hacker {
background-color:#666;
border:1px solid #ccc;
color:#fff;
font-family:"Lucida Console","Courier New",Courier,fixed;  font-size:95%;  line-height:160%;  margin-bottom:1.5em;  padding:10px; }

p.note {
 background-color:#ffffe6;
 border:1px solid #eee;
 color:#666;
 padding:.8em 1.6em;
 margin:15px 0;
}

.warning {
 border: 1px #d25100 solid;
 padding: .5em 1em .5em 4em;
 margin: 10px 20px 15px 20px;
 background-image: url('@{help-img-path}/img_warning.gif');
 background-repeat: no-repeat;
 background-position: left top;
 background-color: #ededed;-moz-border-radius:
0.8em;-webkit-border-radius: 0.8em;
 /* -moz-border-bottom-radius: 0;9 */
 -webkit-border-bottom-radius: 0;
 padding-top:14px;
 padding-bottom:15px;
}

table {border-collapse: collapse; color: #333; margin: 1.2rem 0;}
tr:nth-child(odd) {background-color: #f7f7f7 ;}
tr:nth-child(1) {background-color:#ddd;}
th{ border-right: 1px solid #ddd; padding: 5px; text-align:left;}
td{border: 1px solid #b2b2b2 
;padding: 5px;vertical-align:top;}
td:nth-child(1) {font-weight:bold;}

</style>


<!--[if gte mso 9]><xml>
<mso:CustomDocumentProperties>
<mso:ArticleKeywords msdt:dt="string">MySQL, Python, Apache, LAMP</mso:ArticleKeywords>
<mso:Complexity msdt:dt="string"></mso:Complexity>
<mso:Reference msdt:dt="string">https://www.digitalocean.com/community/tutorials/how-to-set-up-an-apache-mysql-and-python-lamp-server-without-frameworks-on-ubuntu-14-04, https://www.digitalocean.com/community/tutorials/how-to-set-up-an-apache-mysql-and-python-lamp-server-without-frameworks-on-ubuntu-14-04</mso:Reference>
<mso:ArticleStatus msdt:dt="string">Ready for code validation</mso:ArticleStatus>
<mso:HoursEditingEstimated msdt:dt="string">0.100000000000000</mso:HoursEditingEstimated>
<mso:Dependencies msdt:dt="string"></mso:Dependencies>
<mso:ArticlePriority msdt:dt="string">4</mso:ArticlePriority>
<mso:AssignedTo1 msdt:dt="string">39</mso:AssignedTo1>
<mso:HoursDraftingEstimated msdt:dt="string">4.00000000000000</mso:HoursDraftingEstimated>
<mso:display_urn_x003a_schemas-microsoft-com_x003a_office_x003a_office_x0023_AssignedTo1 msdt:dt="string">Conrad James</mso:display_urn_x003a_schemas-microsoft-com_x003a_office_x003a_office_x0023_AssignedTo1>
<mso:EditScore msdt:dt="string"></mso:EditScore>
<mso:RequestNotes msdt:dt="string"></mso:RequestNotes>
<mso:TestComments msdt:dt="string"></mso:TestComments>
<mso:DeliveryTarget msdt:dt="string">Phase 2</mso:DeliveryTarget>
<mso:Difficulty msdt:dt="string">3</mso:Difficulty>
<mso:ForkSplit msdt:dt="string"></mso:ForkSplit>
<mso:ArticleID msdt:dt="string">18230</mso:ArticleID>
<mso:UnsupportedFeatures msdt:dt="string"></mso:UnsupportedFeatures>
<mso:Week msdt:dt="string">8.00000000000000</mso:Week>
<mso:LinuxDistributions msdt:dt="string">;#Arch Linux;#</mso:LinuxDistributions>
<mso:ReviewComments msdt:dt="string">8/12 - CLS - See comments in text.  Please validate XHTML or have Susan before sending back for final edit.


Moved to github</mso:ReviewComments>
<mso:PrereqOrdering msdt:dt="string">2</mso:PrereqOrdering>
<mso:display_urn_x003a_schemas-microsoft-com_x003a_office_x003a_office_x0023_ReviewedBy msdt:dt="string">Crystal Smithwick</mso:display_urn_x003a_schemas-microsoft-com_x003a_office_x003a_office_x0023_ReviewedBy>
<mso:ReviewedBy msdt:dt="string">42</mso:ReviewedBy>
</mso:CustomDocumentProperties>
</xml><![endif]-->
</head>

<body>
        <p>Describes how to install Apache, MySQL, PHP (LAMP) stack on Arch Linux</p>
    <h1>Build a LAMP stack for Python -  Arch Linux</h1>
    
        <p><strong>Difficulty</strong>: <em><u>3</u></em><br/>
        <strong>Time</strong>: <em><u>4.00</u></em></p>
        <!--Conrad, is this minutes or hours?-->

        <p>The LAMP stack is a group of open source software used to get web servers up and running. The acronym stands for Linux, Apache, MySQL, and PHP. Arch Linux uses the pacman installer which can update the system and install all of the required packages for each part of the LAMP stack. The steps in this article require the user to have root privileges.</p>
        <a href="https://blueprintcs.sharepoint.com/sites/gdcmp/Articles/17324%20-%20Initial%20Server%20Setup%20-%20Arch%20Linux.html">How to install Arch Linux</a>        
        
    <h2>Install Apache</h2>
        <p>Before installing any of the LAMP programs, we should update the package manager: </p>

        <div class="hacker">sudo pacman -Syu</div>

        <p>Once the update is complete, you can install Apache.</p>
        <div class="hacker">sudo pacman -S apache</div>

        <p>After Apache is installed, we need to make a couple of changes in the configuration.
 <!--Conrad, make this a new procedure with an <h3> heading "Configure Apache"-->       
     
     <h3>Configure Apache</h3>
        <br> Open up the apache configuration file:</p>
        <div class="hacker">sudo vim /etc/httpd/conf/httpd.conf</div>

        <p>Comment out the<code> unique_id_module</code> (you can use CTRL-W to find it quickly), make sure there is a pound(#) at the beginning of the line:</p> 
        <div class="hacker">#LoadModule unique_id_module<br> modules/mod_unique_id.so</div>

        <p>Restart Apache:</p>
        <div class="hacker">sudo systemctl restart httpd</div>
    
        <p>Next</p>
        <div class="hacker">sudo vim /etc/hosts</div>

        <p>Add your hostname to the end of the line beginning with <code>127.0.0.1</code>.</p>
        <div class="hacker">127.0.0.1 localhost.localdomain localhost <hostname></div>

    <h2>Install MySQL</h2>
    <!--Conrad - make this into a table-->
        <p>To install MySQL, in the same terminal type in these commands:</p>
        <div class="hacker">sudo pacman -S mysql</div>

        <p>If it ask you anything like what is seen below:</p>
	<div class="hacker">:: There are 2 providers available for mysql:<br/> :: Repository extra<br/> 1) mariadb<br/> :: Repository community<br/> 2) percona-server}</div>

        <p class="note">Press Enter, unless you know you do not want the defaults.</p>
 
        <p>(MariaDB is now the default database solution for Arch Linux) MariaDB is an open source drop-in replacement for MySQL, and all system commands that reference MySql are compatible with it.</p>
        <p>Install the MariaDB data directory.</p>

        <div class="hacker">sudo mysql_install_db --user=mysql --basedir=/usr --datadir=/var/lib/mysql</div>

        <p>After you have installed MySQL, start it up:</p>
        <div class="hacker">sudo systemctl start mysqld</div>

 <!--Conrad, Add a <h3> heading and then the rest steps -->
        <h3>Finish up by running the MySQL set up script.</h3>

        <div class="hacker">sudo mysql_secure_installation</div>

        <p>During this process it will ask you for your current MySQL root password (not to be confused with your server password) and, since it has not yet been set, simply press enter.</p>
        <p>When prompted, “Set root password?” type Y, and afterwards enter in your new MySQL root password.<br> Once root password is set just say YES to the remaining options as seen below:</p>     
 <!--Conrad - this would be better as a table. Susan can help.-->
<table style="width:100%;">
            <tr style ='font-weight: bold;'>
                <td width='60%'>Prompt</td>
                <td style="text-align:center;">Action</td>
                <td>Success Message</td>
            </tr>
                <tr>
                    <td><div class='hacker'>By default, a MySQL installation has an anonymous user, allowing anyone to log into MySQL without having to have a user account created for them. This is intended only for testing, and to make the installation go a bit smoother. You should remove them before moving into a production environment. Remove anonymous users? [Y/n]</div></td>
                
                    <td style="vertical-align: top; text-align:center;">y</td>
                    <td style="vertical-align: top;">Success!</td>
                </tr>

                <tr>
                    <td><div class='hacker'>Normally, root should only be allowed to connect from 'localhost'. This ensures that someone cannot guess at the root password from the network. Disallow root login remotely? [Y/n]</div></td>
                
                    <td style="vertical-align: top; text-align:center;">y</td>
                    <td style="vertical-align: top;">Success!</td>
                </tr>

                <tr>
                    <td><div class='hacker'>By default, MySQL comes with a database named 'test' that anyone can access. This is also intended only for testing, and should be removed before moving into a production environment. Remove test database and access to it? [Y/n]</div></td>
                
                    <td style="vertical-align: top; text-align:center;">y</td>
                    <td style="vertical-align: top;">Dropping test database... ... Success!</td>
                </tr>

                <tr>
                    <td><div class='hacker'>Removing privileges on test database</div></td>
                
                    <td style="vertical-align: top; text-align:center;"></td>
                    <td style="vertical-align: top;">Success!</td>
                </tr>

                <tr>
                    <td><div class='hacker'>Reloading the privilege tables will ensure that all changes made so far will take effect immediately. Reload privilege tables now? [Y/n]</div></td>
                    <td style="vertical-align: top; text-align:center;">y</td>
                    <td style="vertical-align: top;">Success!</td>
                </tr>

                <tr>
                    <td><div class='hacker'>Cleaning up...</div></td>
                    <td style="vertical-align: top; text-align:center;"></td>
                    <td style="vertical-align: top;"></td>
                </tr>

        </table>

        <p>All done!  If you've completed all of the above steps, your MariaDB installation should now be secure.</p>
        <p>Thanks for using MariaDB!</p>

        <p>Once you're done installing MySQL, finish the LAMP stack by installing PHP.</p>

    <h2>Install PHP</h2>

    
        <p>PHP is an open source web scripting language that is widely used to build dynamic webpages.</p>
<!--Conrad, make these into steps with the <ol> and <li> tags.-->
      <ol>
        <li><b>To install PHP, in the same terminal type in these commands:</b></li>
        <div class="hacker">sudo pacman -S php php-apache</div>
        <li><b>PHP should also be added to the apache configuration file:</b></li>
        <div class="hacker">sudo vim /etc/httpd/conf/httpd.conf</div>
        <li><b>Paste in this text block within the config.</b></li>
       </ol>

        <div class="hacker"># Use for PHP 5.x:<br>
LoadModule php5_module       modules/libphp5.so
<br>AddHandler php5-script php<br>
Include conf/extra/php5_module.conf</div>

        <h2>Next steps</h2>
        <p>Congratulations! You now have a LAMP stack on your Arch Linux server, you can now set up phpMyAdmin, Install WordPress, go on to do more with MySQL (A Basic MySQL Tutorial), Create an SSL Certificate, or Install an FTP Server.</p>
        <a href="https://blueprintcs.sharepoint.com/sites/gdcmp/Articles/17384%20-%20Install%20WordPress%20on%20your%20LAMP%20server%20-%20Arch%20Linux.html">Wordpress Install on LAMP on Arch</a><br>
        <a href="https://blueprintcs.sharepoint.com/sites/gdcmp/Articles/18255%20-%20Install%20and%20enable%20MySQL%205-6%20-%20Arch%20Linux.html">Install and Enable MySQL on Arch</a><br>
        <a href="https://blueprintcs.sharepoint.com/sites/gdcmp/Articles/17641%20-%20Install%20and%20secure%20phpMyAdmin%20with%20Apache%20-%20Arch%20Linux.html">Install phpMyadmin on Arch</a><br>



</body>
</html>